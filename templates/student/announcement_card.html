<a href="{% url 'view_announcement' announcement.id %}"
   class="block p-5 rounded-xl border transition-all group relative mb-4
          {% if not announcement.is_read %}bg-yellow-50 border-yellow-200 hover:border-yellow-300{% else %}bg-gray-50 border-gray-200 hover:border-gray-300{% endif %}">
  {% if not announcement.is_read %}
    <span class="absolute top-4 right-4 w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
  {% endif %}
  <div class="flex items-start justify-between">
    <div class="flex-1 min-w-0">
      <h3 class="font-semibold text-gray-900 group-hover:text-yellow-700 truncate">
        {{ announcement.title }}
      </h3>
      <p class="mt-1 text-sm text-gray-600 line-clamp-2">
        {{ announcement.content|truncatechars:100 }}
      </p>
      <div class="mt-2 flex items-center text-xs text-gray-500">
        <i data-lucide="calendar" class="w-3 h-3 ml-1"></i>
        <span>{{ announcement.created_at|date:"Y-m-d H:i" }}</span>
        {% if announcement.is_important %}
          <span class="ml-3 flex items-center text-yellow-600">
            <i data-lucide="alert-triangle" class="w-3 h-3 ml-1"></i>
            مهم
          </span>
        {% endif %}
        {% if announcement.is_public %}
          <span class="ml-3 flex items-center text-green-600">
            <i data-lucide="globe" class="w-3 h-3 ml-1"></i>
            عام
          </span>
        {% else %}
          <span class="ml-3 flex items-center text-blue-600">
            <i data-lucide="lock" class="w-3 h-3 ml-1"></i>
            خاص
          </span>
        {% endif %}
      </div>
    </div>
    {% if announcement.attachment %}
      <i data-lucide="paperclip" class="w-5 h-5 text-gray-400 group-hover:text-yellow-600 ml-2"></i>
    {% endif %}
  </div>
</a>